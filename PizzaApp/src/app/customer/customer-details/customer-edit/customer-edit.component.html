<div class="card">
  <div class="card-content">
    <form [formGroup]="customerFormGroup" (ngSubmit)="onSubmit()">
      <div class="row">
        <div class="col s6">
          <label>First name</label>
          <input formControlName="firstName"/>
          @if (customerFormGroup.get('firstName')?.invalid && (customerFormGroup.get('firstName')?.dirty || customerFormGroup.get('firstName')?.touched)) {
            <div class="error">
              @if (customerFormGroup.get('firstName')?.errors?.['required']) {
                <label>First name required reactive</label>
              }
            </div>
          }
        </div>

        <div class="col s6">
          <label>Last name</label>
          <input formControlName="lastName"/>

          @if (customerFormGroup.get('lastName')?.invalid && (customerFormGroup.get('lastName')?.dirty || customerFormGroup.get('lastName')?.touched)) {
            <div class="error">
              @if (customerFormGroup.get('lastName')?.errors?.['required']) {
                <label>Last name required</label>
              }
            </div>
          }
        </div>

        <div class="col s6">
          <label>Email</label>
          <input type="email" [formControl]="emailFormControl"/>

          @if (emailFormControl.invalid && (emailFormControl.dirty || emailFormControl.touched)) {
            <div class="error">
              @if (emailFormControl.errors && emailFormControl.errors['required']) {
                <label>Email required</label>
              }
              @if (emailFormControl.errors && emailFormControl.errors['email']) {
                <label>Email not valid</label>
              }
              @if (emailFormControl.errors && emailFormControl.errors['uniqueEmail']) {
                <label>Email taken</label>
              }
              @if (emailFormControl.errors && !emailFormControl.errors['email'] && emailFormControl.errors['forbiddenEmail']) {
                <label>Email forbidden</label>
              }
            </div>
          }
        </div>

        <div class="col s6">
          <label>Phone</label>
          <input formControlName="phone"/>
        </div>
      </div>

      <h6>Address</h6>

      <ng-container formGroupName="address">
        <div class="row">
          <div class="col s6">
            <label>Street</label>
            <input formControlName="street"/>
          </div>
          <div class="col s6">
            <label>City</label>
            <input formControlName="city"/>
          </div>
          <div class="col s6">
            <label>Zip Code</label>
            <input formControlName="zipCode"/>
          </div>
          <div class="col s6">
            <label>Country</label>
            <input formControlName="country"/>
          </div>
        </div>
      </ng-container>

      <div class="right-align">
        <button class="btn" type="submit" [disabled]="customerFormGroup.invalid">Save</button>
      </div>
    </form>

    <div class="row">
      <div class="col s6">
        <p>Initial value</p>
        <code>
          <pre>{{ customer | json }}</pre>
        </code>
      </div>
      <div class="col s6">
        <p>Form value</p>
        <code>
          <pre>{{ customerFormGroup.value | json }}</pre>
        </code>
      </div>
    </div>

  </div>
</div>
